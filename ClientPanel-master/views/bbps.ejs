<!-- Wappler include head-page="layouts/main" fontawesome_5="cdn" bootstrap5="local" is="dmx-app" id="bbps" appConnect="local" components="{dmxDataTraversal:{},dmxFormatter:{}}" -->
<meta name="ac:route" content="/bbps">
<dmx-serverconnect id="scServiceBBPS" url="api/Services/BbpsServices"></dmx-serverconnect>
<dmx-serverconnect id="scOperatorBBPS" url="api/Operator/GetBbpsOperator"></dmx-serverconnect>
<!-- <script is="dmx-flow" id="flowOpLoad" type="text/dmx-flow">{
  condition: {
    if: "{{content.fromDate.value}}",
    then: {
      steps: {
        run: {action: "{{scOperatorBBPS.load({})}}"}
      }
    }
  }
}</script> -->
<dmx-data-view id="dvOpBBPS" dmx-bind:data="content.scOperatorBBPS.data.GetBbpsOp" filter="(operator_name.contains(Search.value.titlecase()))"></dmx-data-view>
<div class="container-fluid sw-bg-grey">
    <h1 class="mt-4">BBPS
        <span class="border-3 ms-2 spinner-border spinner-border-sm" role="status" dmx-show="scServiceBBPS.state.executing"></span>
    </h1>
    <ol class="breadcrumb mb-4">
        <li class="breadcrumb-item active">BBPS Services</li>
    </ol>

    <div class="row pb-3">
        <div class="col-md-3 col-sm-4 col-12">
            <div class="card">
                <div class="card-header">Select BBPS</div>
                <div class="card-body bbps-services p-0">
                    <ul class="nav nav-pills flex-column mb-3 px-2" id="pills-tab" role="tablist">
                        <li class="nav-item border sw-border-radius px-0" role="presentation">
                            <button class="nav-link active w-100 h6 mb-0 text-left" id="pills-electricity-tab" data-bs-toggle="pill" data-bs-target="#pills-electricity" type="button" role="tab" aria-controls="pills-electricity" aria-selected="true" dmx-on:click="flowOpLoad.run();"><img dmx-bind:src="'https://portal.swpay.in'+content.scServiceBBPS.data.GetBBPS[0].service_type" width="25" height="25">&emsp;Electricity</button>
                        </li>
                        <li class="nav-item border sw-border-radius px-0" role="presentation">
                            <button class="nav-link w-100 h6 mb-0 text-left" id="pills-gas-tab" data-bs-toggle="pill" data-bs-target="#pills-gas" type="button" role="tab" aria-controls="pills-gas" aria-selected="false"><img dmx-bind:src="'https://portal.swpay.in'+content.scServiceBBPS.data.GetBBPS[1].service_type" width="25" height="25">&emsp;Gas</button>
                        </li>
                        <li class="nav-item border sw-border-radius px-0" role="presentation">
                            <button class="nav-link w-100 h6 mb-0 text-left" id="pills-water-tab" data-bs-toggle="pill" data-bs-target="#pills-water" type="button" role="tab" aria-controls="pills-water" aria-selected="false"><img dmx-bind:src="'https://portal.swpay.in'+content.scServiceBBPS.data.GetBBPS[2].service_type" width="25" height="25">&emsp;Water</button>
                        </li>
                        <li class="nav-item border sw-border-radius px-0" role="presentation">
                            <button class="nav-link w-100 h6 mb-0 text-left" id="pills-fasttag-tab" data-bs-toggle="pill" data-bs-target="#pills-fasttag" type="button" role="tab" aria-controls="pills-fasttag" aria-selected="false"><img dmx-bind:src="'https://portal.swpay.in'+content.scServiceBBPS.data.GetBBPS[7].service_type" width="25" height="25">&emsp;Fast Tag</button>
                        </li>
                        <li class="nav-item border sw-border-radius px-0" role="presentation">
                            <button class="nav-link w-100 h6 mb-0 text-left" id="pills-emi-tab" data-bs-toggle="pill" data-bs-target="#pills-emi" type="button" role="tab" aria-controls="pills-emi" aria-selected="false"><img dmx-bind:src="'https://portal.swpay.in'+content.scServiceBBPS.data.GetBBPS[6].service_type" width="25" height="25">&emsp;EMI</button>
                        </li>
                        <li class="nav-item border sw-border-radius px-0" role="presentation">
                            <button class="nav-link w-100 h6 mb-0 text-left" id="pills-cabletv-tab" data-bs-toggle="pill" data-bs-target="#pills-cabletv" type="button" role="tab" aria-controls="pills-cabletv" aria-selected="false"><img dmx-bind:src="'https://portal.swpay.in'+content.scServiceBBPS.data.GetBBPS[3].service_type" width="25" height="25">&emsp;Cable Tv</button>
                        </li>
                        <li class="nav-item border sw-border-radius px-0" role="presentation">
                            <button class="nav-link w-100 h6 mb-0 text-left" id="pills-insurance-tab" data-bs-toggle="pill" data-bs-target="#pills-insurance" type="button" role="tab" aria-controls="pills-insurance" aria-selected="false"><img dmx-bind:src="'https://portal.swpay.in'+content.scServiceBBPS.data.GetBBPS[4].service_type" width="25" height="25">&emsp;Insurance</button>
                        </li>
                        <li class="nav-item border sw-border-radius px-0" role="presentation">
                            <button class="nav-link w-100 h6 mb-0 text-left" id="pills-landline-tab" data-bs-toggle="pill" data-bs-target="#pills-landline" type="button" role="tab" aria-controls="pills-landline" aria-selected="false"><img dmx-bind:src="'https://portal.swpay.in'+content.scServiceBBPS.data.GetBBPS[6].service_type" width="25" height="25">&emsp;Landline Postpaid</button>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="col-md-4 col-sm-5 col-12">
            <div class="card">
                <div class="card-header">Select Operator</div>
                <div class="card-body bbps-services p-0">
                    <div class="col-12 py-2"><input id="Search" name="Search" class="form-control" placeholder="Search here ..."></div>
                    <div id="repeatOp" is="dmx-repeat" dmx-bind:repeat="dvOpBBPS.data" key="id">
                        <p class="p-2 border-bottom mb-0"><img dmx-bind:src="'https://portal.swpay.in'+image" width="25" height="25">&emsp;<b>{{operator_name}}</b></p>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-5 col-sm-3 col-12">
            <div class="tab-content" id="pills-tabContent">
                <div class="tab-pane fade show active px-2" id="pills-electricity" role="tabpanel" aria-labelledby="pills-electricity-tab">
                    <h4 class="mb-4">Electricity Bill Payment</h4>
                    <div class="row">
                        <form id="formMobileRecharge" method="post" action="api/Recharge/" is="dmx-serverconnect-form" dmx-on:success="scNotif.success(content.formMobileRecharge.lastError.response); formMobileRecharge.reset(); scLoginUser.load();modalRecharge.show()" dmx-on:error="scNotif.warning(formMobileRecharge.lastError.response)" dmx-on:unauthorized="scNotif.warning(formMobileRecharge.lastError.response)" dmx-on:forbidden="scNotif.warning(formMobileRecharge.lastError.response)" dmx-on:invalid="scNotif.warning(formMobileRecharge.lastError.response)">
                            <div class="form-group row">
                                <label class="text-monospace col-3 pe-0">Mobile No. (+91)</label>
                                <div class="input-group mb-2 col-9 ps-0">
                                    <div class="input-group-prepend">
                                        <div class="input-group-text bg-primary text-light">
                                            <i class="fas fa-mobile-alt"></i>
                                        </div>
                                    </div>
                                    <input type="number" class="form-control" id="inpMobile" name="mobile_number" placeholder="Enter Mobile No." maxlength="10" required="" title="Enter Amount" autocomplete="off" data-rule-number="" data-msg-number="Please enter a valid amount.">
                                </div>
                            </div>

                            <div class="form-group row">
                                <label class="text-monospace col-3 pe-0">Amount (in Rs.)</label>
                                <div class="input-group mb-2 col-9 ps-0">
                                    <div class="input-group-prepend">
                                        <div class="input-group-text bg-primary text-light">
                                            <i class="fas fa-rupee-sign"></i>
                                        </div>
                                    </div>
                                    <input type="number" class="form-control" id="inpAmount" name="recharge_amount" placeholder="Enter Amount" maxlength="5" required="" title="Enter Amount" autocomplete="off" data-rule-number="" data-msg-number="Please enter a valid amount.">
                                </div>
                            </div>
                            <div class="form-group row">
                                <label class="text-monospace col-3 pe-0">T-PIN</label>
                                <div class="input-group mb-2 col-9 ps-0">
                                    <div class="input-group-prepend">
                                        <div class="input-group-text bg-primary text-light">
                                            <i class="fas fa-edit"></i>
                                        </div>
                                    </div>
                                    <input type="number" class="form-control" id="mobileTPIN" name="mobile_tpin" placeholder="Enter T-Pin" maxlength="10" required="" title="Enter T-Pin" autocomplete="off" data-rule-number="" data-msg-number="Please enter a valid t-pin." maxlength="4">
                                </div>
                            </div>
                            <div class="col"><button type="submit" class="btn btn-primary pull-left" dmx-bind:disabled="state.executing" id="btnmrecharge">Recharge<span class="spinner-border spinner-border-sm" role="status" dmx-show="state.executing"></span></button></div>

                        </form>
                    </div>
                </div>
                <div class="tab-pane fade px-2" id="pills-gas" role="tabpanel" aria-labelledby="pills-gas-tab">
                    <h4 class="mb-4">Gas Bill Payment</h4>
                    <div class="row">
                        <form id="formDTHRecharge" method="post" action="api/Recharge/" is="dmx-serverconnect-form" dmx-on:success="scNotif.success(content.formMobileRecharge.lastError.response); formMobileRecharge.reset(); scLoginUser.load()" dmx-on:error="scNotif.warning(formMobileRecharge.lastError.response)" dmx-on:unauthorized="scNotif.warning(formMobileRecharge.lastError.response)" dmx-on:forbidden="scNotif.warning(formMobileRecharge.lastError.response)" dmx-on:invalid="scNotif.warning(formMobileRecharge.lastError.response)">
                            <div class="form-group row">
                                <label class="text-monospace col-3 pe-0">Subscriber ID</label>
                                <div class="input-group mb-2 col-9 ps-0">
                                    <div class="input-group-prepend">
                                        <div class="input-group-text bg-primary text-light">
                                            <i class="fas fa-user-alt"></i>
                                        </div>
                                    </div>
                                    <input type="text" class="form-control" id="inpSubscriber" name="mobile_number" placeholder="Enter Subscriber Id" maxlength="20" required="" title="Enter Subscriber Id" autocomplete="off" data-rule-number="" data-msg-number="Please enter a valid Subscriber Id">
                                </div>
                            </div>

                            <div class="form-group row">
                                <label class="text-monospace col-3 pe-0">Amount (in Rs.)</label>
                                <div class="input-group mb-2 col-9 ps-0">
                                    <div class="input-group-prepend">
                                        <div class="input-group-text bg-primary text-light">
                                            <i class="fas fa-rupee-sign"></i>
                                        </div>
                                    </div>
                                    <input type="number" class="form-control" id="inpDTHAmount" name="recharge_amount" placeholder="Enter Amount" maxlength="5" required="" title="Enter Amount" autocomplete="off" data-rule-number="" data-msg-number="Please enter a valid amount.">
                                </div>
                            </div>
                            <div class="form-group row">
                                <label class="text-monospace col-3 pe-0">T-PIN</label>
                                <div class="input-group mb-2 col-9 ps-0">
                                    <div class="input-group-prepend">
                                        <div class="input-group-text bg-primary text-light">
                                            <i class="fas fa-edit"></i>
                                        </div>
                                    </div>
                                    <input type="number" class="form-control" id="dthTPIN" name="mobile_tpin" placeholder="Enter T-Pin" maxlength="10" required="" title="Enter T-Pin" autocomplete="off" data-rule-number="" data-msg-number="Please enter a valid t-pin." maxlength="4">
                                </div>
                            </div>
                            <div class="col"><button type="submit" class="btn btn-primary pull-left" dmx-bind:disabled="state.executing" id="btndthrecharge">Recharge<span class="spinner-border spinner-border-sm" role="status" dmx-show="state.executing"></span></button></div>

                        </form>
                    </div>
                </div>
                <div class="tab-pane fade px-2" id="pills-water" role="tabpanel" aria-labelledby="pills-water-tab">Water Bill Payment</div>
                <div class="tab-pane fade px-2" id="pills-fasttag" role="tabpanel" aria-labelledby="pills-fasttag-tab">Fast Tag</div>
                <div class="tab-pane fade px-2" id="pills-emi" role="tabpanel" aria-labelledby="pills-emi-tab">EMI</div>
                <div class="tab-pane fade px-2" id="pills-cabletv" role="tabpanel" aria-labelledby="pills-cabletv-tab">Cable Tv</div>
                <div class="tab-pane fade px-2" id="pills-insurance" role="tabpanel" aria-labelledby="pills-insurance-tab">Insurance</div>
                <div class="tab-pane fade px-2" id="pills-landline" role="tabpanel" aria-labelledby="pills-landline-tab">Landline Postpaid</div>
            </div>
        </div>
    </div>
</div>